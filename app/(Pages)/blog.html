<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
    <title>AAPC | Blog Posts</title>
    <meta name="description" content="AAPC operates in seamless collaboration with the NYC Department of Buildings (DOB) and other pertinent entities throughout the architectural process demonstrating a meticulous commitment to not only adhere to regulations but also navigate them with precision when intervening in established spaces">
    <meta name="keywords" content="Architecture, AAPC, Building, Design, Drafting">
    <link rel="author" href="Azark Inc" />
    <link rel="canonical" href="https://aapc.nyc/" />
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#FFDC32">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.0.2/css/bootstrap.min.css'>
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.2/css/all.css'>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/home.css">
    <link rel="stylesheet" href="css/blog.css">
</head>
<body>
<!-- partial:index.partial.html -->
<nav class="navbar navbar-expand-md">
    <div class="container-fluid">
        <a class="navbar-brand d-md-none" href="/">
            <img src="/img/AAPC_Logo.png" alt="">
        </a>
        <button class="navbar-toggler navbar-dark" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav mx-auto">
                <li class="nav-item">
                    <a class="nav-link" aria-current="page" href="/">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/services">Services</a>
                </li>
                <a class="navbar-brand d-none d-md-block" href="/">
                    <img src="/img/AAPC_Logo.png" alt="">
                </a>
                <li class="nav-item">
                    <a class="nav-link" href="/projects">Projects</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/contact">Contact</a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<div style="position: relative; height: 90vh">
    <div style="position: absolute;
    width: 45%;
    height: 60vh;
    background: linear-gradient(127deg, rgba(176, 156, 59, .49) 0%, rgba(125, 105, 3, 0.28) 100%);
    box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.25);
    backdrop-filter: blur(12px);
    margin-left: 10%;" data-tilt data-tilt-glare data-tilt-max-glare="0.1"></div>

    <div style="position: absolute; width: 45%; height: 60vh; background: url('img/service-top.jpg'); left: 15%; top: 15vh; box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.25); background-size: cover"></div>

    <div style="position: absolute; width: 45%; height: 60vh; background: url('https://images.unsplash.com/photo-1604933762023-7213af7ff7a7?q=80&w=2071&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'); left: 15%; top: 15vh; box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.25); background-size: cover"></div>

    <div class="top-wrapper">
        <h1 class="topper-title" data-tilt data-tilt-glare data-tilt-max-glare="0.1">Blog Posts</h1>
        <div class="title-wrapper">
            <h3 class="topper-subtitle">What We Do</h3>
        </div>

        <h3 id="planning-top" class="topper-blurb">Explore our blog for the latest news and tips on everything architecture related.</h3>
    </div>
</div>

<div class="flex-container" style="position:relative;">
    <div id="side" class="flex-item-left">
        <h1 class="left-text" id="hotels-title">Recent Posts</h1>
    </div>
    <div class="flex-item-right" style="position: relative; overflow: hidden">
        <div id="hotels">

        </div>
    </div>
</div>

<div style="position: relative; width: 85%; border-top: rgba(255, 255, 255, 0.40) solid 1px; margin: auto">
    <footer style="position: relative; border-bottom: rgba(255, 255, 255, 0.40) solid 1px; margin-bottom: 1vh; display: flex">
        <div class="footer-left">
            <img src="/img/AAPC_Logo.png" id="footer-img" class="nav-img"/>
            <p style="opacity: .6; margin-bottom: 3vh; line-height: 2.5">AAPC is an all-encompassing, conscious team of experts that take pride in investing in the future of buildings, our clients and their clients.</p>
        </div>
        <div class="footer-middle" >
            <h2 style="border-bottom: #FFDC32 2px solid; display: inline-block">Contact Us</h2>
            <p onclick="window.open('https://maps.app.goo.gl/3S2kgXWk48vREADu9', '_blank')"><span class="fas fa-location-arrow text-white"></span>                    130 W 37th Street New York, NY 10018
            </p>
            <p onclick="window.location.href = 'tel:212-547-9050'"><span class="fas fa-phone text-white"></span>212-547-9050</p>
            <p onclick="window.location.href = 'mailto:admin@aapc.nyc';"><span class="fas fa-envelope text-white"></span>admin@aapc.nyc</p>
        </div>
        <div class="footer-right">
            <h2 style="border-bottom: #FFDC32 2px solid; display: inline-block">Pages</h2>
            <p onclick="location.assign('/');">Home</p>
            <p onclick="location.assign('/services');">Services</p>
            <p onclick="location.assign('/projects');">Projects</p>
            <p onclick="location.assign('/contact');">Contact</p>
            <p onclick="location.assign('/blog');">Blog</p>
        </div>
    </footer>
    <a class="pptos" href="/privacy-policy">Privacy Policy</a>
</div>



<script>
    const BLOG_URL = 'https://azark-blog-backend.onrender.com/api/posts';

    async function customFetch() {
        try {
            const res = await fetch(BLOG_URL);
            if (!res.ok) {
                throw new Error(`${res.status} : ${res.statusText}`)
            }

            const json = await res.json();
            console.log(json)
            return json;
        } catch (err) {
            console.error(err.message)
        }
    }

    const createListItem = (item) => {

        function rfc3986EncodeURIComponent (str) {
            return encodeURIComponent(str).replace(/[!'()*]/g, escape);
        }

        if (item.categories.includes("aapc") && item.published === true) {

            // const date = new Date(item.updatedAt);
            // const formattedDate = date.getDate() +  " " + date.toLocaleString('default', { month: 'long' }) + " " + date.getFullYear();
            const formattedCreated = new Date(item.createdAt).toLocaleDateString('en-US', {
                month: "long",  // Use "short" for abbreviated month
                day: "numeric",
                year: "numeric",
            })
            return ` <div class="flex-container width-full reverse" onclick="location.assign('blog-single.html?id=${rfc3986EncodeURIComponent(item.identifier)}');" style="margin-top: 5%">
                <div class="project-left">
                    <div class="project-left-content">
                        <h1 data-tilt data-tilt-glare data-tilt-max-glare="0.1">
                           ${item.title}
                        </h1><br>
                        <h5>${item.author}</h5>
                        <h5 style="float: right">${formattedCreated}</h5>
                        <h4>${item.clincher}</h4>
                        </div>
                </div>
                <div class="project-right">
                    <div class="project-right-pic" style="background: url(${item.photo}); background-size: cover" data-tilt data-tilt-glare data-tilt-max-glare="0.1"></div>
                </div>
            </div>`
        }
    }

    const getPosts = async () => {
        const data = await customFetch();
        const posts = data.reverse().map(posts => posts);
        const listItems = posts.map(t => createListItem(t)).join("")

        const insertBefore = (element, htmlString) => element.insertAdjacentHTML("afterbegin", htmlString);

        const element = document.getElementById("hotels");

        return insertBefore(element, `${listItems}`)
    }

    getPosts()


    /*fetch(BLOG_URL)
       .then(res => res.json())
       .then(console.log); */

</script>

<script src='https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.2.0/js/bootstrap.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js'></script>
<script src='js/vanilla-tilt.js'></script>
<script src='js/projects.js'></script>


<script>
    $(document).scroll(function () {
        var wrapper = $('#side');
        var box = $('#hotels-title');

        var offsetTop = -wrapper.offset().top + $(window).scrollTop() + 90;
        var offsetBottom = wrapper.offset().top - $(window).scrollTop() + wrapper.outerHeight() - box.outerHeight() - 90;

        if (offsetBottom > 0 && offsetTop < 0) {
            box.css({
                'top': 0
            });
        } else if (offsetBottom > 0 && offsetTop > 0) {
            box.css({
                'top': offsetTop + 'px'
            });
        } else {
            box.offset({
                'top': $(window).scrollTop() + offsetBottom
            });
        }

    });
</script>

<link href="https://assets.calendly.com/assets/external/widget.css" rel="stylesheet">
<script src="https://assets.calendly.com/assets/external/widget.js" type="text/javascript" async></script>
<script type="text/javascript">window.onload = function () {
    Calendly.initBadgeWidget({
        url: 'https://calendly.com/general-services',
        text: 'Free Consultation',
        color: '#FFDC32',
        textColor: '#1b1b1b',
        branding: false,
        zIndex: 100
    });
}</script>
</body>
</html>